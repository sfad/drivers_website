<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Find Your Ride — Home</title>
    <meta name="description"
        content="Find Your Ride — marketplace for drivers and passengers. Discover routes, manage trips, and track dependents in real time.">
    <!-- Localization hreflang links for SEO -->
    <link rel="alternate" hreflang="en" href="/en/index.html">
    <link rel="alternate" hreflang="fr" href="/fr/index.html">
    <link rel="alternate" hreflang="ar" href="/ar/index.html">
    <link rel="alternate" hreflang="x-default" href="/en/index.html">
    <link rel="icon" href="assets/icons/app_icon_small.svg" type="image/svg+xml">
    <!-- Cache-busting loader: tries to use ETag or Last-Modified from a HEAD request
                 and appends it as ?v=<value> to asset URLs so browsers reload updated files.
                 Falls back to a timestamp when headers aren't available. -->
    <script>
        (function () {
            // List of assets to load
            const cssAssets = ['css/styles.css'];
            const jsAssets = ['js/i18n.js', 'js/theme.js', 'js/main.js'];

            // Try to get a stable version value from server headers (ETag or Last-Modified)
            function getVersion(url) {
                try {
                    return fetch(url, { method: 'HEAD', cache: 'no-cache' }).then(res => {
                        if (!res || !res.headers) return String(Date.now());
                        const etag = res.headers.get('ETag');
                        const lm = res.headers.get('Last-Modified');
                        if (etag) return encodeURIComponent(etag);
                        if (lm) return encodeURIComponent(lm);
                        return String(Date.now());
                    }).catch(() => String(Date.now()));
                } catch (e) {
                    return Promise.resolve(String(Date.now()));
                }
            }

            function loadCss(url, v) {
                const link = document.createElement('link');
                link.rel = 'stylesheet';
                link.href = url + '?v=' + v;
                document.head.appendChild(link);
            }

            function loadScriptSequential(urls) {
                // Loads scripts in order to preserve dependencies
                return urls.reduce((p, url) => {
                    return p.then(() => getVersion(url).then(v => new Promise(res => {
                        const s = document.createElement('script');
                        s.src = url + '?v=' + v;
                        s.async = false;
                        s.onload = s.onerror = res;
                        document.body.appendChild(s);
                    })));
                }, Promise.resolve());
            }

            // Start loading CSS (parallel)
            cssAssets.forEach(url => {
                getVersion(url).then(v => loadCss(url, v));
            });

            // Then load JS sequentially to keep the original order
            loadScriptSequential(jsAssets);
        })();
    </script>
</head>

<body>
    <header class="site-header">
        <div class="container header-inner">
            <a href="index.html" class="logo">
                <img src="assets/icons/app_icon.svg" alt="Find Your Ride logo" height="50">
            </a>
            <nav class="main-nav" aria-label="Main navigation">
                <a href="index.html" id="nav-home">Home</a>
                <a href="about.html" id="nav-about">About</a>
            </nav>
            <div class="controls">
                <select id="lang-select" aria-label="Language selector" class="lang-dropdown">
                    <option value="en">🇺🇸 EN</option>
                    <option value="fr">🇫🇷 FR</option>
                    <option value="ar">🇧🇭 العربية</option>
                </select>
                <button id="theme-toggle" aria-pressed="false" class="theme-btn">🌙</button>
            </div>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <div class="hero-content animate-fade-in">
                    <h1 id="hero-title">Find Your Ride</h1>
                    <p id="hero-subtitle">Safe, reliable transportation at your fingertips. Connect with trusted drivers
                        or join as a driver today — we'd love your feedback.</p>
                    <div class="hero-actions">
                        <a class="btn primary animate-bounce" href="#download-section">
                            📱 <span id="download-now-btn">Download Now</span>
                        </a>
                        <a class="btn secondary" href="about.html" id="learn-more-btn">Learn More</a>
                    </div>
                </div>
                <div class="hero-visual animate-float">
                    <div class="phone-mockup">
                        <div class="phone-screen"></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2 class="section-title animate-slide-up" id="features-heading">Why Choose Find Your Ride?</h2>
                <div class="features-grid">
                    <div class="feature-card animate-slide-up" style="animation-delay: 0.1s">
                        <div class="feature-icon">🚗</div>
                        <h3 id="passengers-feature-title">For Passengers</h3>
                        <p id="passengers-feature-desc">Book reliable transportation, track your ride in real-time, and
                            manage family members' trips. Your personal and dependent information belongs to you — we
                            only
                            share the minimum trip details with drivers or organizations required to complete a booking.
                        </p>
                    </div>
                    <div class="feature-card animate-slide-up" style="animation-delay: 0.2s">
                        <div class="feature-icon">👨‍💼</div>
                        <h3 id="drivers-feature-title">For Drivers</h3>
                        <p id="drivers-feature-desc">Earn money driving, manage your routes, and grow your
                            transportation business.</p>
                    </div>
                    <div class="feature-card animate-slide-up" style="animation-delay: 0.3s">
                        <div class="feature-icon">🏢</div>
                        <h3 id="organizations-feature-title">For Organizations</h3>
                        <p id="organizations-feature-desc">Manage fleet operations, track driver performance, and ensure
                            safe transportation.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="download-section" id="download-section">
            <div class="container">
                <div class="download-content animate-fade-in">
                    <h2 id="get-started-heading">Get Started Today</h2>
                    <p id="get-started-desc">Join Find Your Ride today — try the app, share feedback, and help shape its
                        future.</p>
                    <div class="download-buttons">
                        <div class="store-button animate-pulse" style="cursor: not-allowed; opacity: 0.7;">
                            <img src="assets/icons/app-store.svg" alt="Coming Soon to App Store" />
                            <span id="app-store-coming-soon">Coming Soon</span>
                        </div>
                        <div class="store-button animate-pulse"
                            style="animation-delay: 0.2s; cursor: not-allowed; opacity: 0.7;">
                            <img src="assets/icons/google-play.svg" alt="Coming Soon to Google Play" />
                            <span id="google-play-coming-soon">Coming Soon</span>
                        </div>
                        <!-- Web App button: opens the web application in a new tab -->
                        <div class="store-button web">
                            <a href="https://web.findyouride.com" target="_blank" rel="noopener noreferrer"
                                aria-label="Open Find Your Ride web app">
                                <!-- Inline SVG globe / web icon to match site style -->
                                <svg width="60" height="60" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"
                                        opacity="0.9" />
                                    <path d="M2 12h20M12 2c2.5 3.5 2.5 16 0 20M5 5c4 3 14 3 18 0" stroke="currentColor"
                                        stroke-width="1" stroke-linecap="round" stroke-linejoin="round" opacity="0.9" />
                                </svg>
                                <span class="store-label">Open Web App</span>
                            </a>
                        </div>
                        <!-- End Web App button -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; <span id="year"></span> <span id="footer-copyright">Find Your Ride</span></p>
            <p><a href="privacy-policy.html" id="footer-privacy">Privacy Policy</a></p>
            <p id="footer-powered">Powered by <a href="https://neatit.com" target="_blank" rel="noopener">neatit.com</a>
            </p>
        </div>
    </footer>

    <script src="js/i18n.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/main.js"></script>
</body>

</html>